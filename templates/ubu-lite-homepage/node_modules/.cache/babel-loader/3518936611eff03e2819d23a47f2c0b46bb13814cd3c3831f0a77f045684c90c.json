{"ast":null,"code":"import React,{useState}from'react';import{api}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wallet=()=>{const[username,setUsername]=useState('demo_creative');const[password,setPassword]=useState('demo12345');const[token,setToken]=useState(null);const[wallet,setWallet]=useState(null);const[amount,setAmount]=useState(\"\");const[busy,setBusy]=useState(false);const[err,setErr]=useState(null);async function login(){try{setErr(null);const res=await api.login({username,password});setToken(res.access);}catch(e){setErr(e.message||'login failed');}}async function loadWallet(){if(!token)return;try{setErr(null);const w=await api.getWallet(token);setWallet(w);}catch(e){setErr(e.message||'failed to load wallet');}}async function withdraw(all){if(!token)return;try{setBusy(true);setErr(null);const amt=all?null:Number(amount||'0');await api.demoWithdraw(amt&&amt>0?amt:null,token);await loadWallet();}catch(e){setErr(e.message||'withdraw failed');}finally{setBusy(false);}}return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:520,margin:'40px auto',fontFamily:'Inter, system-ui, Arial'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Wallet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Login as a creative to view your wallet balance.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:8},children:[/*#__PURE__*/_jsx(\"input\",{value:username,onChange:e=>setUsername(e.target.value),placeholder:\"username\"}),/*#__PURE__*/_jsx(\"input\",{value:password,onChange:e=>setPassword(e.target.value),placeholder:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:login,children:\"Login\"})]}),token&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"button\",{onClick:loadWallet,children:\"Load Wallet\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12,display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"input\",{value:amount,onChange:e=>setAmount(e.target.value),placeholder:\"amount (optional)\"}),/*#__PURE__*/_jsx(\"button\",{disabled:busy,onClick:()=>withdraw(false),children:\"Request Withdrawal\"}),/*#__PURE__*/_jsx(\"button\",{disabled:busy,onClick:()=>withdraw(true),children:\"Withdraw All\"})]})]}),err&&/*#__PURE__*/_jsx(\"p\",{style:{color:'crimson'},children:err}),wallet&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,border:'1px solid #e5e7eb',padding:12,borderRadius:8},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Available: \",/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",'{',\"wallet.available_balance\",'}']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Pending: \",/*#__PURE__*/_jsxs(\"b\",{children:[\"$\",'{',\"wallet.pending_balance\",'}']})]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#6b7280'},children:[\"Updated: \",wallet.updated_at]})]})]});};export default Wallet;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","Wallet","username","setUsername","password","setPassword","token","setToken","wallet","setWallet","amount","setAmount","busy","setBusy","err","setErr","login","res","access","e","message","loadWallet","w","getWallet","withdraw","all","amt","Number","demoWithdraw","style","maxWidth","margin","fontFamily","children","display","gap","value","onChange","target","placeholder","type","onClick","marginTop","disabled","color","border","padding","borderRadius","updated_at"],"sources":["C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/src/pages/Wallet.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { api } from '../api';\n\nconst Wallet: React.FC = () => {\n  const [username, setUsername] = useState('demo_creative');\n  const [password, setPassword] = useState('demo12345');\n  const [token, setToken] = useState<string | null>(null);\n  const [wallet, setWallet] = useState<any>(null);\n  const [amount, setAmount] = useState<string>(\"\");\n  const [busy, setBusy] = useState(false);\n  const [err, setErr] = useState<string | null>(null);\n\n  async function login() {\n    try {\n      setErr(null);\n      const res = await api.login({ username, password });\n      setToken(res.access);\n    } catch (e: any) {\n      setErr(e.message || 'login failed');\n    }\n  }\n\n  async function loadWallet() {\n    if (!token) return;\n    try {\n      setErr(null);\n      const w = await api.getWallet(token);\n      setWallet(w);\n    } catch (e: any) {\n      setErr(e.message || 'failed to load wallet');\n    }\n  }\n\n  async function withdraw(all: boolean) {\n    if (!token) return;\n    try {\n      setBusy(true); setErr(null);\n      const amt = all ? null : Number(amount || '0');\n      await api.demoWithdraw(amt && amt > 0 ? amt : null, token);\n      await loadWallet();\n    } catch (e: any) {\n      setErr(e.message || 'withdraw failed');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  return (\n    <div style={{ maxWidth: 520, margin: '40px auto', fontFamily: 'Inter, system-ui, Arial' }}>\n      <h1>Wallet</h1>\n      <p>Login as a creative to view your wallet balance.</p>\n      <div style={{ display: 'grid', gap: 8 }}>\n        <input value={username} onChange={e => setUsername(e.target.value)} placeholder=\"username\" />\n        <input value={password} onChange={e => setPassword(e.target.value)} placeholder=\"password\" type=\"password\" />\n        <button onClick={login}>Login</button>\n      </div>\n      {token && (\n        <div style={{ marginTop: 16 }}>\n          <button onClick={loadWallet}>Load Wallet</button>\n          <div style={{ marginTop: 12, display: 'flex', gap: 8 }}>\n            <input value={amount} onChange={e => setAmount(e.target.value)} placeholder=\"amount (optional)\" />\n            <button disabled={busy} onClick={() => withdraw(false)}>Request Withdrawal</button>\n            <button disabled={busy} onClick={() => withdraw(true)}>Withdraw All</button>\n          </div>\n        </div>\n      )}\n      {err && <p style={{ color: 'crimson' }}>{err}</p>}\n      {wallet && (\n        <div style={{ marginTop: 16, border: '1px solid #e5e7eb', padding: 12, borderRadius: 8 }}>\n          <div>Available: <b>${'{'}wallet.available_balance{'}'}</b></div>\n          <div>Pending: <b>${'{'}wallet.pending_balance{'}'}</b></div>\n          <div style={{ color: '#6b7280' }}>Updated: {wallet.updated_at}</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Wallet;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}