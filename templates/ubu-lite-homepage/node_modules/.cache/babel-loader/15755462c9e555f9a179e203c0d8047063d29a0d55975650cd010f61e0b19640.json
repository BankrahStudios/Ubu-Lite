{"ast":null,"code":"import _objectSpread from\"C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";const API_BASE='/api';async function request(path){let init=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let token=arguments.length>2?arguments[2]:undefined;const headers=init.headers||{};if(token)headers['Authorization']=\"Bearer \".concat(token);const resp=await fetch(API_BASE+path,_objectSpread(_objectSpread({},init),{},{headers}));if(!resp.ok){const text=await resp.text();throw new Error(text||\"Request failed: \".concat(resp.status));}const ct=resp.headers.get('content-type')||'';return ct.includes('application/json')?resp.json():resp.text();}export async function postJSON(path,body,token){return request(path,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)},token);}export async function getJSON(path,token){return request(path,{method:'GET'},token);}export async function patchJSON(path,body,token){return request(path,{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)},token);}// Domain helpers\nexport const api={// Auth\nregister:payload=>postJSON('/auth/register/',payload),login:payload=>postJSON('/auth/login/',payload),// Creatives & Services\nlistCreatives:()=>getJSON('/creatives/'),getCreative:id=>getJSON(\"/creatives/\".concat(id,\"/\")),listServices:()=>getJSON('/services/'),getService:id=>getJSON(\"/services/\".concat(id,\"/\")),// Bookings\ncreateBooking:(payload,token)=>postJSON('/bookings/',payload,token),getBooking:(id,token)=>getJSON(\"/bookings/\".concat(id,\"/\"),token),updateBooking:(id,payload,token)=>patchJSON(\"/bookings/\".concat(id,\"/\"),payload,token),listBookings:token=>getJSON('/bookings/',token),approveBooking:(id,token)=>postJSON(\"/bookings/\".concat(id,\"/approve/\"),{},token),declineBooking:(id,token)=>postJSON(\"/bookings/\".concat(id,\"/decline/\"),{},token),scheduleBooking:(id,payload,token)=>postJSON(\"/bookings/\".concat(id,\"/schedule/\"),payload,token),// Messages\nlistMessages:(bookingId,token)=>getJSON(\"/messages/\".concat(bookingId,\"/\"),token),sendMessage:(bookingId,payload,token)=>postJSON(\"/messages/\".concat(bookingId,\"/\"),payload,token),// Portfolio\nlistPortfolio:token=>getJSON('/portfolio/',token),createPortfolioItem:(form,token)=>{return request('/portfolio/',{method:'POST',body:form},token);},deletePortfolioItem:(id,token)=>request(\"/portfolio/\".concat(id,\"/\"),{method:'DELETE'},token),// Services (creative-owned)\nlistOwnServices:token=>getJSON('/services/',token),createService:(payload,token)=>postJSON('/services/',payload,token),updateService:(id,payload,token)=>patchJSON(\"/services/\".concat(id,\"/\"),payload,token),deleteService:(id,token)=>request(\"/services/\".concat(id,\"/\"),{method:'DELETE'},token),// Categories\nlistCategories:()=>getJSON('/categories/'),// Current creative profile\ngetMyProfile:token=>getJSON('/creatives/me/',token),updateMyProfile:(payload,token)=>patchJSON('/creatives/me/',payload,token)};","map":{"version":3,"names":["API_BASE","request","path","init","arguments","length","undefined","token","headers","concat","resp","fetch","_objectSpread","ok","text","Error","status","ct","get","includes","json","postJSON","body","method","JSON","stringify","getJSON","patchJSON","api","register","payload","login","listCreatives","getCreative","id","listServices","getService","createBooking","getBooking","updateBooking","listBookings","approveBooking","declineBooking","scheduleBooking","listMessages","bookingId","sendMessage","listPortfolio","createPortfolioItem","form","deletePortfolioItem","listOwnServices","createService","updateService","deleteService","listCategories","getMyProfile","updateMyProfile"],"sources":["C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/src/api.ts"],"sourcesContent":["const API_BASE = '/api';\n\ntype Token = string | undefined;\n\nasync function request(path: string, init: RequestInit = {}, token?: Token) {\n  const headers: Record<string, string> = (init.headers as any) || {};\n  if (token) headers['Authorization'] = `Bearer ${token}`;\n  const resp = await fetch(API_BASE + path, { ...init, headers });\n  if (!resp.ok) {\n    const text = await resp.text();\n    throw new Error(text || `Request failed: ${resp.status}`);\n  }\n  const ct = resp.headers.get('content-type') || '';\n  return ct.includes('application/json') ? resp.json() : resp.text();\n}\n\nexport async function postJSON(path: string, body: any, token?: Token) {\n  return request(path, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body)\n  }, token);\n}\n\nexport async function getJSON(path: string, token?: Token) {\n  return request(path, { method: 'GET' }, token);\n}\n\nexport async function patchJSON(path: string, body: any, token?: Token) {\n  return request(path, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(body)\n  }, token);\n}\n\n// Domain helpers\nexport type LoginResp = { access: string; refresh?: string; user?: any };\nexport type UserRole = 'creative' | 'client' | 'admin';\n\nexport const api = {\n  // Auth\n  register: (payload: { username: string; email?: string; password: string; role: UserRole }) =>\n    postJSON('/auth/register/', payload),\n  login: (payload: { username: string; password: string }) =>\n    postJSON('/auth/login/', payload) as Promise<LoginResp>,\n\n  // Creatives & Services\n  listCreatives: () => getJSON('/creatives/'),\n  getCreative: (id: number | string) => getJSON(`/creatives/${id}/`),\n  listServices: () => getJSON('/services/'),\n  getService: (id: number | string) => getJSON(`/services/${id}/`),\n\n  // Bookings\n  createBooking: (payload: any, token: string) => postJSON('/bookings/', payload, token),\n  getBooking: (id: number | string, token: string) => getJSON(`/bookings/${id}/`, token),\n  updateBooking: (id: number | string, payload: any, token: string) => patchJSON(`/bookings/${id}/`, payload, token),\n  listBookings: (token: string) => getJSON('/bookings/', token),\n  approveBooking: (id: number | string, token: string) => postJSON(`/bookings/${id}/approve/`, {}, token),\n  declineBooking: (id: number | string, token: string) => postJSON(`/bookings/${id}/decline/`, {}, token),\n  scheduleBooking: (id: number | string, payload: any, token: string) => postJSON(`/bookings/${id}/schedule/`, payload, token),\n\n  // Messages\n  listMessages: (bookingId: number | string, token: string) => getJSON(`/messages/${bookingId}/`, token),\n  sendMessage: (bookingId: number | string, payload: any, token: string) => postJSON(`/messages/${bookingId}/`, payload, token),\n\n  // Portfolio\n  listPortfolio: (token: string) => getJSON('/portfolio/', token),\n  createPortfolioItem: (form: FormData, token: string) => {\n    return request('/portfolio/', { method: 'POST', body: form }, token);\n  },\n  deletePortfolioItem: (id: number | string, token: string) => request(`/portfolio/${id}/`, { method: 'DELETE' }, token),\n\n  // Services (creative-owned)\n  listOwnServices: (token: string) => getJSON('/services/', token),\n  createService: (payload: any, token: string) => postJSON('/services/', payload, token),\n  updateService: (id: number | string, payload: any, token: string) => patchJSON(`/services/${id}/`, payload, token),\n  deleteService: (id: number | string, token: string) => request(`/services/${id}/`, { method: 'DELETE' }, token),\n\n  // Categories\n  listCategories: () => getJSON('/categories/'),\n\n  // Current creative profile\n  getMyProfile: (token: string) => getJSON('/creatives/me/', token),\n  updateMyProfile: (payload: any, token: string) => patchJSON('/creatives/me/', payload, token),\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}