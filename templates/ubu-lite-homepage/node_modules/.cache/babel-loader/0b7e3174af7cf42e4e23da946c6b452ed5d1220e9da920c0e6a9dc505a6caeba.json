{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kojos\\\\OneDrive\\\\Desktop\\\\Ubu-Lite\\\\templates\\\\ubu-lite-homepage\\\\src\\\\pages\\\\Wallet.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { api } from '../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wallet = () => {\n  _s();\n  const [username, setUsername] = useState('demo_creative');\n  const [password, setPassword] = useState('demo12345');\n  const [token, setToken] = useState(null);\n  const [wallet, setWallet] = useState(null);\n  const [amount, setAmount] = useState(\"\");\n  const [busy, setBusy] = useState(false);\n  const [err, setErr] = useState(null);\n  async function login() {\n    try {\n      setErr(null);\n      const res = await api.login({\n        username,\n        password\n      });\n      setToken(res.access);\n    } catch (e) {\n      setErr(e.message || 'login failed');\n    }\n  }\n  async function loadWallet() {\n    if (!token) return;\n    try {\n      setErr(null);\n      const w = await api.getWallet(token);\n      setWallet(w);\n    } catch (e) {\n      setErr(e.message || 'failed to load wallet');\n    }\n  }\n  async function withdraw(all) {\n    if (!token) return;\n    try {\n      setBusy(true);\n      setErr(null);\n      const amt = all ? null : Number(amount || '0');\n      await api.demoWithdraw(amt && amt > 0 ? amt : null, token);\n      await loadWallet();\n    } catch (e) {\n      setErr(e.message || 'withdraw failed');\n    } finally {\n      setBusy(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 520,\n      margin: '40px auto',\n      fontFamily: 'Inter, system-ui, Arial'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Wallet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Login as a creative to view your wallet balance.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        placeholder: \"username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"password\",\n        type: \"password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), token && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loadWallet,\n        children: \"Load Wallet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: amount,\n          onChange: e => setAmount(e.target.value),\n          placeholder: \"amount (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: busy,\n          onClick: () => withdraw(false),\n          children: \"Request Withdrawal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: busy,\n          onClick: () => withdraw(true),\n          children: \"Withdraw All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), err && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'crimson'\n      },\n      children: err\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }, this), wallet && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 16,\n        border: '1px solid #e5e7eb',\n        padding: 12,\n        borderRadius: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Available: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\"$\", '{', \"wallet.available_balance\", '}']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Pending: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [\"$\", '{', \"wallet.pending_balance\", '}']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#6b7280'\n        },\n        children: [\"Updated: \", wallet.updated_at]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Wallet, \"XIK7YbdpTqrNeFhSRqbvg2+pkFw=\");\n_c = Wallet;\nexport default Wallet;\nvar _c;\n$RefreshReg$(_c, \"Wallet\");","map":{"version":3,"names":["React","useState","api","jsxDEV","_jsxDEV","Wallet","_s","username","setUsername","password","setPassword","token","setToken","wallet","setWallet","amount","setAmount","busy","setBusy","err","setErr","login","res","access","e","message","loadWallet","w","getWallet","withdraw","all","amt","Number","demoWithdraw","style","maxWidth","margin","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","value","onChange","target","placeholder","type","onClick","marginTop","disabled","color","border","padding","borderRadius","updated_at","_c","$RefreshReg$"],"sources":["C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/src/pages/Wallet.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { api } from '../api';\n\nconst Wallet: React.FC = () => {\n  const [username, setUsername] = useState('demo_creative');\n  const [password, setPassword] = useState('demo12345');\n  const [token, setToken] = useState<string | null>(null);\n  const [wallet, setWallet] = useState<any>(null);\n  const [amount, setAmount] = useState<string>(\"\");\n  const [busy, setBusy] = useState(false);\n  const [err, setErr] = useState<string | null>(null);\n\n  async function login() {\n    try {\n      setErr(null);\n      const res = await api.login({ username, password });\n      setToken(res.access);\n    } catch (e: any) {\n      setErr(e.message || 'login failed');\n    }\n  }\n\n  async function loadWallet() {\n    if (!token) return;\n    try {\n      setErr(null);\n      const w = await api.getWallet(token);\n      setWallet(w);\n    } catch (e: any) {\n      setErr(e.message || 'failed to load wallet');\n    }\n  }\n\n  async function withdraw(all: boolean) {\n    if (!token) return;\n    try {\n      setBusy(true); setErr(null);\n      const amt = all ? null : Number(amount || '0');\n      await api.demoWithdraw(amt && amt > 0 ? amt : null, token);\n      await loadWallet();\n    } catch (e: any) {\n      setErr(e.message || 'withdraw failed');\n    } finally {\n      setBusy(false);\n    }\n  }\n\n  return (\n    <div style={{ maxWidth: 520, margin: '40px auto', fontFamily: 'Inter, system-ui, Arial' }}>\n      <h1>Wallet</h1>\n      <p>Login as a creative to view your wallet balance.</p>\n      <div style={{ display: 'grid', gap: 8 }}>\n        <input value={username} onChange={e => setUsername(e.target.value)} placeholder=\"username\" />\n        <input value={password} onChange={e => setPassword(e.target.value)} placeholder=\"password\" type=\"password\" />\n        <button onClick={login}>Login</button>\n      </div>\n      {token && (\n        <div style={{ marginTop: 16 }}>\n          <button onClick={loadWallet}>Load Wallet</button>\n          <div style={{ marginTop: 12, display: 'flex', gap: 8 }}>\n            <input value={amount} onChange={e => setAmount(e.target.value)} placeholder=\"amount (optional)\" />\n            <button disabled={busy} onClick={() => withdraw(false)}>Request Withdrawal</button>\n            <button disabled={busy} onClick={() => withdraw(true)}>Withdraw All</button>\n          </div>\n        </div>\n      )}\n      {err && <p style={{ color: 'crimson' }}>{err}</p>}\n      {wallet && (\n        <div style={{ marginTop: 16, border: '1px solid #e5e7eb', padding: 12, borderRadius: 8 }}>\n          <div>Available: <b>${'{'}wallet.available_balance{'}'}</b></div>\n          <div>Pending: <b>${'{'}wallet.pending_balance{'}'}</b></div>\n          <div style={{ color: '#6b7280' }}>Updated: {wallet.updated_at}</div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Wallet;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}