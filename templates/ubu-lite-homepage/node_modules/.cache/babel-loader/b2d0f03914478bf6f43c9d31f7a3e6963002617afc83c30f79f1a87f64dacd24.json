{"ast":null,"code":"import React,{useState}from'react';import{api}from'../api';import{setUser,setToken}from'../auth';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppLogin=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);async function submit(e){e.preventDefault();setError(null);try{const res=await api.login({username,password});if(res!==null&&res!==void 0&&res.access)setToken(res.access);if(res!==null&&res!==void 0&&res.user)setUser(res.user);window.location.href='/studio';}catch(err){setError('Invalid credentials');}}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[var(--bg)] text-[var(--text)]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-sm px-4 py-10\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/\",className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pill h-9 w-9 flex items-center justify-center bg-[var(--navy-800)] text-white font-bold\",children:\"U\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg tracking-tight\",children:\"UBU Lite\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-2xl border border-[color:var(--border)] bg-[var(--card)] p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Log in\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"mt-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Username\",className:\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",className:\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-[var(--muted)]\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full btn pill bg-[var(--orange-600)] hover:bg-[var(--orange-700)] text-white px-4 py-2\",children:\"Log in\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-[var(--muted)]\",children:[\"No account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/app-register\",className:\"underline\",children:\"Register\"})]})]})]})]})});};export default AppLogin;","map":{"version":3,"names":["React","useState","api","setUser","setToken","jsx","_jsx","jsxs","_jsxs","AppLogin","username","setUsername","password","setPassword","error","setError","submit","e","preventDefault","res","login","access","user","window","location","href","err","className","children","onSubmit","value","onChange","target","placeholder","type"],"sources":["C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/src/pages/AppLogin.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { api } from '../api';\nimport { setUser, setToken } from '../auth';\n\nconst AppLogin: React.FC = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState<string | null>(null);\n\n  async function submit(e: React.FormEvent) {\n    e.preventDefault();\n    setError(null);\n    try {\n      const res: any = await api.login({ username, password });\n      if (res?.access) setToken(res.access);\n      if (res?.user) setUser(res.user);\n      window.location.href = '/studio';\n    } catch (err: any) {\n      setError('Invalid credentials');\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[var(--bg)] text-[var(--text)]\">\n      <div className=\"mx-auto max-w-sm px-4 py-10\">\n        <a href=\"/\" className=\"flex items-center gap-3 mb-6\">\n          <div className=\"pill h-9 w-9 flex items-center justify-center bg-[var(--navy-800)] text-white font-bold\">U</div>\n          <span className=\"font-semibold text-lg tracking-tight\">UBU Lite</span>\n        </a>\n        <div className=\"rounded-2xl border border-[color:var(--border)] bg-[var(--card)] p-6\">\n          <h1 className=\"text-xl font-semibold\">Log in</h1>\n          <form onSubmit={submit} className=\"mt-4 space-y-3\">\n            <input value={username} onChange={e=>setUsername(e.target.value)} placeholder=\"Username\" className=\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\" />\n            <input type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} placeholder=\"Password\" className=\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\" />\n            {error && <div className=\"text-sm text-[var(--muted)]\">{error}</div>}\n            <button className=\"w-full btn pill bg-[var(--orange-600)] hover:bg-[var(--orange-700)] text-white px-4 py-2\">Log in</button>\n            <div className=\"text-sm text-[var(--muted)]\">No account? <a href=\"/app-register\" className=\"underline\">Register</a></div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AppLogin;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}