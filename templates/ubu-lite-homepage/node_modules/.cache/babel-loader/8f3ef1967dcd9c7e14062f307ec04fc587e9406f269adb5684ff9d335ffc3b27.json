{"ast":null,"code":"import React,{useState}from'react';import{api}from'../api';import{setUser,setToken}from'../auth';import GoogleSignIn from'../components/GoogleSignIn';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppRegister=()=>{const[username,setUsername]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[role,setRole]=useState('client');const[error,setError]=useState(null);async function submit(e){e.preventDefault();setError(null);try{await api.register({username,email,password,role});const res=await api.login({username,password});if(res!==null&&res!==void 0&&res.access)setToken(res.access);if(res!==null&&res!==void 0&&res.user)setUser(res.user);window.location.href=role==='creative'?'/studio':'/creatives';}catch(err){setError('Registration failed');}}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-[var(--bg)] text-[var(--text)]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-sm px-4 py-10\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/\",className:\"flex items-center gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pill h-9 w-9 flex items-center justify-center bg-[var(--navy-800)] text-white font-bold\",children:\"U\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-lg tracking-tight\",children:\"UBU Lite\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-2xl border border-[color:var(--border)] bg-[var(--card)] p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold\",children:\"Create account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,className:\"mt-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"input\",{value:username,onChange:e=>setUsername(e.target.value),placeholder:\"Username\",className:\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\"}),/*#__PURE__*/_jsx(\"input\",{value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email (optional)\",className:\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),placeholder:\"Password\",className:\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\"}),/*#__PURE__*/_jsxs(\"select\",{value:role,onChange:e=>setRole(e.target.value),className:\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"client\",children:\"Client\"}),/*#__PURE__*/_jsx(\"option\",{value:\"creative\",children:\"Creative\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-[var(--muted)]\",children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full btn pill bg-[var(--orange-600)] hover:bg-[var(--orange-700)] text-white px-4 py-2\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-[var(--muted)]\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/app-login\",className:\"underline\",children:\"Log in\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-px flex-1 bg-[color:var(--border)]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-[var(--muted)]\",children:\"or\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-px flex-1 bg-[color:var(--border)]\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 flex justify-center\",children:/*#__PURE__*/_jsx(GoogleSignIn,{role:role,onSuccessRedirect:role==='creative'?'/studio':'/creatives',text:\"signup_with\"})})]})]})});};export default AppRegister;","map":{"version":3,"names":["React","useState","api","setUser","setToken","GoogleSignIn","jsx","_jsx","jsxs","_jsxs","AppRegister","username","setUsername","email","setEmail","password","setPassword","role","setRole","error","setError","submit","e","preventDefault","register","res","login","access","user","window","location","href","err","className","children","onSubmit","value","onChange","target","placeholder","type","onSuccessRedirect","text"],"sources":["C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/src/pages/AppRegister.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { api } from '../api';\nimport { setUser, setToken } from '../auth';\nimport GoogleSignIn from '../components/GoogleSignIn';\n\nconst AppRegister: React.FC = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState<'creative'|'client'>('client');\n  const [error, setError] = useState<string | null>(null);\n\n  async function submit(e: React.FormEvent) {\n    e.preventDefault();\n    setError(null);\n    try {\n      await api.register({ username, email, password, role });\n      const res: any = await api.login({ username, password });\n      if (res?.access) setToken(res.access);\n      if (res?.user) setUser(res.user);\n      window.location.href = role === 'creative' ? '/studio' : '/creatives';\n    } catch (err: any) {\n      setError('Registration failed');\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[var(--bg)] text-[var(--text)]\">\n      <div className=\"mx-auto max-w-sm px-4 py-10\">\n        <a href=\"/\" className=\"flex items-center gap-3 mb-6\">\n          <div className=\"pill h-9 w-9 flex items-center justify-center bg-[var(--navy-800)] text-white font-bold\">U</div>\n          <span className=\"font-semibold text-lg tracking-tight\">UBU Lite</span>\n        </a>\n        <div className=\"rounded-2xl border border-[color:var(--border)] bg-[var(--card)] p-6\">\n          <h1 className=\"text-xl font-semibold\">Create account</h1>\n          <form onSubmit={submit} className=\"mt-4 space-y-3\">\n            <input value={username} onChange={e=>setUsername(e.target.value)} placeholder=\"Username\" className=\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\" />\n            <input value={email} onChange={e=>setEmail(e.target.value)} placeholder=\"Email (optional)\" className=\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\" />\n            <input type=\"password\" value={password} onChange={e=>setPassword(e.target.value)} placeholder=\"Password\" className=\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\" />\n            <select value={role} onChange={e=>setRole(e.target.value as any)} className=\"w-full pill border border-[color:var(--border)] bg-[var(--bg-soft)] px-4 py-2\">\n              <option value=\"client\">Client</option>\n              <option value=\"creative\">Creative</option>\n            </select>\n            {error && <div className=\"text-sm text-[var(--muted)]\">{error}</div>}\n            <button className=\"w-full btn pill bg-[var(--orange-600)] hover:bg-[var(--orange-700)] text-white px-4 py-2\">Sign up</button>\n            <div className=\"text-sm text-[var(--muted)]\">Already have an account? <a href=\"/app-login\" className=\"underline\">Log in</a></div>\n          </form>\n          <div className=\"mt-6 flex items-center gap-3\">\n            <div className=\"h-px flex-1 bg-[color:var(--border)]\" />\n            <span className=\"text-xs text-[var(--muted)]\">or</span>\n            <div className=\"h-px flex-1 bg-[color:var(--border)]\" />\n          </div>\n          <div className=\"mt-4 flex justify-center\">\n            <GoogleSignIn role={role} onSuccessRedirect={role === 'creative' ? '/studio' : '/creatives'} text=\"signup_with\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AppRegister;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}