{"ast":null,"code":"import React,{useState}from'react';import{api}from'../api';import{getToken}from'../auth';// Minimal viewer allowing status update by client (approve/decline would normally be admin/creative)\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Booking=()=>{const[id,setId]=useState('');const[details,setDetails]=useState(null);const[error,setError]=useState(null);const[ok,setOk]=useState(null);const fetchOne=async()=>{setError(null);setOk(null);const token=getToken();if(!token){setError('Login required');return;}try{const d=await api.getBooking(id,token);setDetails(d);}catch(e){setError(e.message);}};const updateStatus=async status=>{setError(null);setOk(null);const token=getToken();if(!token){setError('Login required');return;}try{await api.updateBooking(id,{status},token);setOk('Status updated');await fetchOne();}catch(e){setError(e.message);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:700,margin:'30px auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Booking\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:8},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Booking ID\",value:id,onChange:e=>setId(e.target.value),className:\"input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:fetchOne,children:\"Load\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',marginTop:10},children:error}),ok&&/*#__PURE__*/_jsx(\"div\",{style:{color:'green',marginTop:10},children:ok}),details&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16,padding:10,border:'1px solid #ddd'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"ID:\"}),\" \",details.id]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Service:\"}),\" \",details.service]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Date:\"}),\" \",details.date]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Status:\"}),\" \",details.status]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>updateStatus('approved'),children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{marginLeft:6},onClick:()=>updateStatus('declined'),children:\"Decline\"})]})]})]});};export default Booking;","map":{"version":3,"names":["React","useState","api","getToken","jsx","_jsx","jsxs","_jsxs","Booking","id","setId","details","setDetails","error","setError","ok","setOk","fetchOne","token","d","getBooking","e","message","updateStatus","status","updateBooking","style","maxWidth","margin","children","display","gap","placeholder","value","onChange","target","className","onClick","color","marginTop","padding","border","service","date","marginLeft"],"sources":["C:/Users/Kojos/OneDrive/Desktop/Ubu-Lite/templates/ubu-lite-homepage/src/pages/Booking.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { api } from '../api';\nimport { getToken } from '../auth';\n\n// Minimal viewer allowing status update by client (approve/decline would normally be admin/creative)\nconst Booking: React.FC = () => {\n  const [id, setId] = useState<string>('');\n  const [details, setDetails] = useState<any | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [ok, setOk] = useState<string | null>(null);\n\n  const fetchOne = async () => {\n    setError(null); setOk(null);\n    const token = getToken();\n    if (!token) { setError('Login required'); return; }\n    try {\n      const d = await api.getBooking(id, token);\n      setDetails(d);\n    } catch (e:any) {\n      setError(e.message);\n    }\n  };\n\n  const updateStatus = async (status: string) => {\n    setError(null); setOk(null);\n    const token = getToken();\n    if (!token) { setError('Login required'); return; }\n    try {\n      await api.updateBooking(id, { status }, token);\n      setOk('Status updated');\n      await fetchOne();\n    } catch (e:any) { setError(e.message); }\n  };\n\n  return (\n    <div style={{ maxWidth: 700, margin: '30px auto' }}>\n      <h2>Booking</h2>\n      <div style={{ display: 'flex', gap: 8 }}>\n        <input placeholder=\"Booking ID\" value={id} onChange={e=>setId(e.target.value)} className=\"input\" />\n        <button className=\"btn\" onClick={fetchOne}>Load</button>\n      </div>\n      {error && <div style={{ color: 'red', marginTop: 10 }}>{error}</div>}\n      {ok && <div style={{ color: 'green', marginTop: 10 }}>{ok}</div>}\n      {details && (\n        <div style={{ marginTop: 16, padding: 10, border: '1px solid #ddd' }}>\n          <div><b>ID:</b> {details.id}</div>\n          <div><b>Service:</b> {details.service}</div>\n          <div><b>Date:</b> {details.date}</div>\n          <div><b>Status:</b> {details.status}</div>\n          <div style={{ marginTop: 8 }}>\n            <button className=\"btn\" onClick={()=>updateStatus('approved')}>Approve</button>\n            <button className=\"btn\" style={{ marginLeft: 6 }} onClick={()=>updateStatus('declined')}>Decline</button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Booking;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}